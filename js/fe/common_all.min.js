function easyEmailVerifyAndFormSubmit(e){if(1==e.disabled||e.classList.contains("disabled"))return;let t=e.form,i=t.querySelector("input");if(!checkMandatory(t))return;let o=i.value;/(.+)@(.+){2,}\.(.+){2,}/.test(o)?(e.disabled=1,e.classList.add("loading"),setTimeout(function(){e.disabled=0},6e3),beginRegistration(i,o)):(i.setCustomValidity("Email not valid"),i.reportValidity())}function beginRegistration(e,t){fetch("/register/p?"+(str="q=newPropertyBeginReg&email="+t)).then(e=>e.json()).then(t=>{if(document.querySelectorAll("button.loading").forEach(function(e){e.classList.remove("loading")}),console.log(t),t.hasOwnProperty("e"))e.setCustomValidity(t.m),e.reportValidity();else if("verification_jump"==t.d){console.log("Go!!!"),location.href="/register/hotelreg";return}}).catch(t=>{document.querySelectorAll("button.loading").forEach(function(e){e.classList.remove("loading")}),e.setCustomValidity(t),e.reportValidity()})}