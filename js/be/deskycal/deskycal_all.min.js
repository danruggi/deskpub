var bitsoCalCallback,tweenInput,tweenStart,bitsoCalVersion="2.5",bitsoCalMode="extended",anyDate=!1;function initBitsoCalendar(e,t,l,a,n,s,i){("double"==t||"simple"==t)&&(bitsoCalMode=t),void 0!==a&&a.length>0&&(bitsoCalCallback=a);let d=document.getElementById(e);if(null==d){console.log("id "+e+" not found");return}"undefined"==typeof mobile&&(mobile=0);let o;if(0==mobile)(o=getParentByClass(d,"date-selector")).classList.add("relative");else{let c=parseHTML("<div id='cal_con_"+e+"' class='dark-back date-selector tcoral hidden'></div>"),r=document.querySelector("#spinning_dark_back");r.parentNode.insertBefore(c,r),o=document.getElementById("cal_con_"+e)}d.readOnly=!0,d.addEventListener("click",function(e){showCalSel(e,this)}),"anyDate"==n?(d.value="",anyDate=!0):(oDate=new Date,l>1e3&&oDate.setTime(l),d.value=oDate.getFullYear()+"-"+String(parseInt(oDate.getMonth())+1).padStart(2,"0")+"-"+String(oDate.getDate()).padStart(2,"0"),anyDate=!1),insertSchema(o,e),drawCalSel(o)}function insertSchema(e,t){let l="",a="";"simple"==bitsoCalMode&&(a="simple"),l+="<div class='bitso-cal-container grid-container no-gap hidden "+a+"' id='cal_"+t+"'>",l+="	<span class='bitso-cal-close' onclick='closeCalSel()'>X</span>","double"==bitsoCalMode&&(l+="	<div class='flex-container flex-col centered left' onClick='dayClick(this)'>",l+="		<span class='left-today'>Today</span> <span class='left-day'></span> <span class='left-mon'></span>",l+="	</div>"),l+="	<div class='right'>",l+="		<div class='bitso-cal-right-header arrows grid-container' style='grid-template-columns: 1fr 3fr 1fr; gap:0'>",l+="			<span class='bitso-arrow' onclick='calSelPrev(this)'><</span>",l+="			<span class='bitso-cal-month-name'></span>",l+="			<span class='bitso-cal-month-num' hidden></span>",l+="			<span class='bitso-arrow' onclick='calSelNext(this)'>></span>",l+="		</div>",l+="		<div class='bitso-cal-right-bottom'>",l+="			<div class='bitso-cal-dow-list'></div>",l+="			<div class='bitso-cal-day-list'> </div>",l+="		</div>",anyDate&&(l+="		<span id='calsel_anyDate_"+t+"' class='curr-month cal-sel-day' onClick='dayClick(this)'>Any Date</span>"),l+="	</div>";let n=parseHTML(l+="</div>");e.appendChild(n);let s=new Date;s.setYear(2021),s.setMonth(8);let i="";for(let d=1;d<=21&&(s.setDate(d),0!=i.length&&(i+="<span>"+s.toLocaleString("default",{weekday:"long"}).charAt(0)+"</span>"),0==s.getDay()&&(i+="<span>"+s.toLocaleString("default",{weekday:"long"}).charAt(0)+"</span>"),6!=s.getDay()||0==i.length);d++);e.querySelector(".bitso-cal-dow-list").innerHTML=i}function drawCalSel(e,t,l){let a=new Date,n=new Date,s="",i="",d=e.querySelector(".bitso-cal-month-name"),o=e.querySelector(".bitso-cal-month-num"),c=e.querySelector(".bitso-cal-day-list");isNaN(t)&&(t=a.getFullYear()),isNaN(l)&&(l=a.getMonth());let r=new Date(t,l,1),y=new Date(t,l+1,0),u=r.getDay(),p=y.getDay(),g=r.toLocaleString("default",{month:"long"}),h=new Date;"undefined"!=typeof todayG&&h.setTime(todayG.getTime());let C=h.toLocaleString("default",{month:"long"});i="calsel_"+t+"_"+(parseInt(h.getMonth())+1)+"_"+h.getDate(),"double"==bitsoCalMode&&(e.querySelector(".left-day").innerText=a.getDate(),e.querySelector(".left-mon").innerText=C,e.querySelector(".left").id=i),d.innerText=g+" "+r.getFullYear(),o.innerText=l+"_"+t;let k=l+1;r.getDate();let f=y.getDate(),m=new Date(t,l,0).getDate();n=new Date;for(let S=m-u+1;S<=m;S++)s+="<span class='last-month cal-sel-day'>"+S+"</span>";(n=new Date).setMonth(l);for(let b=1;b<=f;b++)n=new Date(n.setDate(b)),s+="<span id='"+(i="calsel_"+t+"_"+k+"_"+n.getDate())+"' class='curr-month cal-sel-day' onClick='dayClick(this)'>"+n.getDate()+"</span>";for(let v=1;v<7-p;v++)(n=new Date).setDate(v),n.setMonth(l+1),s+="<span class='next-month cal-sel-day'>"+n.getDate()+"</span>";let T=parseHTML(s);for(;c.firstChild;)c.removeChild(c.lastChild);c.appendChild(T)}function calSelPrev(e){let t=getParentByClass(e,"bitso-cal-container"),l=t.querySelector(".bitso-cal-month-num").innerText.split("_"),a=parseInt(l[0])-1;drawCalSel(t,l[1],a)}function calSelNext(e){let t=getParentByClass(e,"bitso-cal-container"),l=t.querySelector(".bitso-cal-month-num").innerText.split("_"),a=parseInt(l[0])+1;drawCalSel(t,l[1],a)}function dayClick(e){e.classList.add("clicked");let t=e.id.split("_"),l=getParentByClass(e,"bitso-cal-container").id,a=l.substring(l.indexOf("_")+1),n=document.getElementById(a),s=new Date;"anyDate"==t[1]?n.value="":(s.setYear(t[1]),s.setMonth(t[2]-1),s.setDate(t[3]),n.value=s.getFullYear()+"-"+String(parseInt(s.getMonth())+1).padStart(2,"0")+"-"+String(parseInt(s.getDate())).padStart(2,"0"));let i=0;1==mobile&&(i=300),setTimeout(function(){"function"==typeof bitsoCalCallback&&bitsoCalCallback(s),e.classList.remove("clicked"),closeCalSel()},i)}function showCalSel(e,t){e.stopPropagation();let l=document.getElementById("cal_"+t.id),a=getParentByClass(l,"date-selector");l.classList.toggle("hidden"),1==mobile?a.classList.toggle("hidden"):l.scrollIntoView(),document.addEventListener("mouseup",bitsoCalSelEvent)}function closeCalSel(){document.querySelectorAll(".bitso-cal-container").forEach(function(e){if(!e.classList.contains("hidden")){e.classList.add("hidden"),1==mobile&&getParentByClass(e,"date-selector").classList.toggle("hidden");return}}),document.removeEventListener("mouseup",bitsoCalSelEvent)}function bitsoCalSelEvent(e){document.querySelectorAll(".date-selector").forEach(function(t){let l=t.querySelector(".bitso-cal-container");null==l||l.classList.contains("hidden")||l.contains(e.target)||closeCalSel()})}const deskyOpts={};function initDeskyCalendarAll(){if(0==Object.keys(deskyOpts).length){console.log("Init deskyOpts Object beforer using this function");return}Array.from(Object.keys(deskyOpts)).forEach(function(e){let t=document.getElementById(e),l=parseHTML("<div id='deskycal_container_"+e+"' class='deskycal'></div>").firstChild,a=t.cloneNode(!0),n=t.parentNode;l.appendChild(a),n.replaceChild(l,t),a.readOnly=!0,a.addEventListener("click",function(e){showCalSel(e,this)});let s,i,d=deskyOpts[e].in_date;if(deskyOpts[e].any_date)a.value="Select";else{let o=new Date;d>1e3&&(o.setTime(d),s=o.getUTCMonth(),i=o.getUTCFullYear(),deskyOpts[e].in_date=o.getTime()),a.value=o.getUTCFullYear()+"-"+String(parseInt(o.getUTCMonth())+1).padStart(2,"0")+"-"+String(o.getUTCDate()).padStart(2,"0")}let c=new Date,r=deskyOpts[e].disabled_before;r>1e3&&(c.setTime(r),deskyOpts[e].disabled_before=c.getTime()),insertSchema(l,e),drawCalSel(l,e,i,s)})}function initDeskyCalendar(e,t="double",l=null,a=!1,n=null,s=null,i=null,d=!1,o=null){let c=document.getElementById(e);if(null==c){console.log("[deskyCal] input id "+e+" not found");return}null==t&&(t="double"),["double","single"].includes(t)||console.log('[deskyCal] "mode" not valid; "single" or "double" are valid'),l<0&&console.log("[deskyCal] timestamp can't be negative"),deskyOpts[e]={mode:t,in_date:l,any_date:a,next_input:n,disabled_before:s,disabled_after:i,callback:o,scroll:d};let r=parseHTML("<div id='deskycal_container_"+e+"' class='deskycal'></div>").firstChild,y=c.cloneNode(!0),u=c.parentNode;r.appendChild(y),u.replaceChild(r,c),y.readOnly=!0,y.addEventListener("click",function(e){showCalSel(e,this)});let p,g;if(a)y.value="";else{let h=new Date;l>1e3&&(h.setTime(l),p=h.getUTCMonth(),g=h.getUTCFullYear(),deskyOpts[e].in_date=h.getTime()),y.value=h.getUTCFullYear()+"-"+String(parseInt(h.getUTCMonth())+1).padStart(2,"0")+"-"+String(h.getUTCDate()).padStart(2,"0")}let C=new Date;s>1e3&&(C.setTime(s),deskyOpts[e].disabled_before=C.getTime()),insertSchema(r,e),drawCalSel(r,e,g,p)}function insertSchema(e,t){let l="",a="";"single"==deskyOpts[t].mode&&(a="single"),l+="<div class='desky-dark-container desky-cal-hidden'>",l+="	<div class='desky-cal-container  "+a+"' id='deskycal_"+t+"'>",l+="		<span class='desky-cal-close' onclick='closeCalSel()'>X</span>","double"==deskyOpts[t].mode&&(l+="		<div class='left' onClick='dayClick(this)'>",l+="			<span class='left-today'>Today</span> <span class='left-day'></span> <span class='left-mon'></span>",l+="		</div>"),l+="		<div class='right'>",l+="			<div class='desky-cal-right-header arrows'>",l+="				<span class='desky-arrow' onclick='calSelPrev(this)'><</span>",l+="				<span class='desky-cal-month-name'></span>",l+="				<span class='desky-cal-month-num desky-cal-hidden' ></span>",l+="				<span class='desky-arrow' onclick='calSelNext(this)'>></span>",l+="			</div>",l+="			<div class='desky-cal-right-bottom'>",l+="				<div class='desky-cal-dow-list'></div>",l+="				<div class='desky-cal-day-list'> </div>",l+="			</div>",deskyOpts[t].any_date&&(l+="			<span data-day='calsel_anyDate_"+t+"' class='curr-month cal-sel-day' onClick='dayClick(this)'>Any Date</span>"),l+="		</div>",l+="	</div>";let n=parseHTML(l+="</div>");e.appendChild(n);let s=new Date;s.setYear(2021),s.setMonth(8);let i="";for(let d=1;d<=21&&(s.setDate(d),0!=i.length&&(i+="<span>"+s.toLocaleString("default",{weekday:"long"}).charAt(0)+"</span>"),0==s.getDay()&&(i+="<span>"+s.toLocaleString("default",{weekday:"long"}).charAt(0)+"</span>"),6!=s.getDay()||0==i.length);d++);e.querySelector(".desky-cal-dow-list").innerHTML=i}function drawCalSel(e,t,l,a){let n=new Date,s=new Date,i="",d="",o=e.querySelector(".desky-cal-month-name"),c=e.querySelector(".desky-cal-month-num"),r=e.querySelector(".desky-cal-day-list");isNaN(l)&&(l=n.getUTCFullYear()),isNaN(a)&&(a=n.getUTCMonth());let y=new Date(l,a,1),u=new Date(l,a+1,0),p=y.getDay(),g=u.getDay(),h=y.toLocaleString("default",{month:"long"}),C=new Date,k=C.toLocaleString("default",{month:"long"}),f="calsel_"+l+"_"+(parseInt(C.getUTCMonth())+1)+"_"+C.getUTCDate();"double"==deskyOpts[t].mode&&(e.querySelector(".left-day").innerText=n.getUTCDate(),e.querySelector(".left-mon").innerText=k,e.querySelector(".left").dataset.day=f),o.innerText=h+" "+y.getUTCFullYear(),c.innerText=a+"_"+l;let m=a+1;y.getUTCDate();let S=u.getUTCDate(),b=new Date(l,a,0).getUTCDate();s=new Date;for(let v=b-p+1;v<=b;v++)i+="<span class='last-month cal-sel-day'>"+v+"</span>";(s=new Date).setMonth(a);for(let T=1;T<=S;T++){s=new Date(s.setDate(T));let $="";f==(d="calsel_"+l+"_"+m+"_"+s.getUTCDate())&&($="today"),s.getTime()<deskyOpts[t].disabled_before&&($="disabled"),s.getTime()>deskyOpts[t].disabled_after&&null!=deskyOpts[t].disabled_after&&($="disabled"),i+="<span data-day='"+d+"' class='curr-month cal-sel-day "+$+"' onClick='dayClick(this)'>"+s.getUTCDate()+"</span>"}for(let _=1;_<7-g;_++)(s=new Date).setDate(_),s.setMonth(a+1),i+="<span class='next-month cal-sel-day'>"+s.getUTCDate()+"</span>";let w=parseHTML(i);for(;r.firstChild;)r.removeChild(r.lastChild);r.appendChild(w)}function calSelPrev(e){let t=getParentByClass(e,"desky-cal-container"),l=t.querySelector(".desky-cal-month-num").innerText.split("_"),a=parseInt(l[0])-1;drawCalSel(t,t.id.split("_").slice(1).join("_"),l[1],a)}function calSelNext(e){let t=getParentByClass(e,"desky-cal-container"),l=t.querySelector(".desky-cal-month-num").innerText.split("_"),a=parseInt(l[0])+1;drawCalSel(t,t.id.split("_").slice(1).join("_"),l[1],a)}function dayClick(e){if(e.classList.contains("disabled"))return;e.classList.add("clicked");let t=e.dataset.day.split("_"),l=getParentByClass(e,"desky-cal-container").id,a=l.substring(l.indexOf("_")+1),n=document.getElementById(a),s=new Date;if("anyDate"==t[1]?n.value="":(s.setUTCFullYear(t[1]),s.setUTCMonth(t[2]-1),s.setUTCDate(t[3]),n.value=s.getUTCFullYear()+"-"+String(parseInt(s.getUTCMonth())+1).padStart(2,"0")+"-"+String(parseInt(s.getUTCDate())).padStart(2,"0")),"function"==typeof deskyOpts[a].callback&&(console.log("call back function"),deskyOpts[a].callback(s)),null!=deskyOpts[a].next_input&&"anyDate"!=t[1]){let i=deskyOpts[a].next_input,d=document.getElementById("deskycal_container_"+i),o=document.getElementById(i);deskyOpts[i].disabled_before=s.getTime(),o.value=s.getUTCFullYear()+"-"+String(parseInt(s.getUTCMonth())+1).padStart(2,"0")+"-"+String(parseInt(s.getUTCDate())).padStart(2,"0"),drawCalSel(d,i,t[1],t[2]-1)}setTimeout(function(){e.classList.remove("clicked"),closeCalSel()},300)}function showCalSel(e,t){e.stopPropagation();let l=t.parentNode,a=l.querySelector(".desky-dark-container");a.classList.toggle("desky-cal-hidden"),deskyOpts[t.id].scroll&&(console.log("Scroll into view"),a.querySelector(".desky-cal-container").scrollIntoView({behavior:"smooth",block:"center"}));let n=l.querySelector(".desky-cal-container");n.getBoundingClientRect().bottom;let s=n.getBoundingClientRect().right;window.innerHeight;s>window.innerWidth&&(n.style.right="2px"),document.addEventListener("mouseup",deskyCalSelEvent)}function closeCalSel(){document.querySelectorAll(".desky-dark-container").forEach(function(e){if(!e.classList.contains("desky-cal-hidden")){e.classList.add("desky-cal-hidden");return}}),document.removeEventListener("mouseup",deskyCalSelEvent)}function deskyCalSelEvent(e){document.querySelectorAll(".deskycal").forEach(function(t){let l=t.querySelector(".desky-dark-container");null==l||l.classList.contains("desky-cal-hidden")||l.contains(e.target)||closeCalSel()})}function getParentByClass(e,t,l=10){let a=0;for(;!e.classList.contains(t);)if(e=e.parentElement,++a>l)return!1;return e}function parseHTML(e){var t=document.createElement("template");return t.innerHTML=e,t.content}